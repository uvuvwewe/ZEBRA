<script type="text/javascript" charset="utf-8" src="{{ url_for('static', filename='ebapi.js') }}"></script>
<script type="text/javascript" charset="utf-8" src="{{ url_for('static', filename='eb.bluetooth.js') }}"></script>




<script>
    

    // 00:22:58:2B:B1:B








function scanfc(){
    const ndef = new NDEFReader();

    ndef.scan().then(() => {
  console.log("Scan started successfully.");
  ndef.onreadingerror = () => {
    alert("Cannot read data from the NFC tag. Try another one?");
  };
  ndef.onreading = event => {
    alert("NDEF message read.");
  };
}).catch(error => {
    alert(`Error! Scan failed to start: ${error}.`);
});
}




function BTConnect(){
    EB.Bluetooth.connect("C4:64:E3:C6:F4:17",false,connectCallback);
}
function connectCallback(dat) {
    document.getElementById("myDiv").innerHTML += dat.status;
    document.getElementById("otherDiv").innerHTML += dat.message;
    document.getElementById("dov").innerHTML += JSON.stringify(dat);
}


// function BTRead() {
//     EB.Bluetooth.readData(readCallback);
// }
// function readCallback(dat) {
//     document.getElementById("myDiv").innerHTML = "
//     dat.status+"<br/> Data:"+dat.data +"<br/> message:"+dat.message ;
// }


</script>


<button onclick="BTConnect()">CONNECT</button>
<button onclick="scanfc()">NFC</button>
<!-- <button onclick="BTRead()">READ Me</button> -->




<div id="myDiv">
  
</div>

<div id="otherDiv">
  
</div>


<div id="dov">
  
</div>




<a>sss</a>